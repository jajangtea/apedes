<com:TContent ID="maincontent">
    <com:TPanel Visible="<%= $this->getDefaultProcess(false) %>" CssClass="content">	   
        <div class="panel panel-flat">
            <div class="panel-heading">
                <h5 class="panel-title"><i class="icon-googleplus5 position-left"></i> TAMBAH MAHASISWA KONVERSI BERDASARKAN KURIKULUM <com:TLabel ID="lblAddKurikulum" /></h5>
                <div class="heading-elements">
                    <ul class="icons-list">
                        <li>
                            <a href="<%=$this->Page->constructUrl('KonversiMatakuliah',true);%>" data-action="closeredirect"></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="panel-body">
                <div class="form-horizontal">
                    <div class="form-group" id="divAddNimAsal">
                        <label class="col-md-2 control-label text-right">NIM Asal :</label>
                        <div class="col-md-10">
                            <com:TTextBox ID="txtAddNimAsal" CssClass="form-control" />
                            <com:TRequiredFieldValidator ID="FieldAddNimAsalValidator" ControlToValidate="txtAddNimAsal" Display="Dynamic" ErrorMessage="Isi NIM Asal" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddNimAsal').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddNimAsalValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddNimAsal').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddNama">
                        <label class="col-md-2 control-label text-right">Nama :</label>
                        <div class="col-md-4">
                            <com:TTextBox ID="txtAddNama" CssClass="form-control" />
                            <com:TRequiredFieldValidator ID="FieldAddNamaValidator" ControlToValidate="txtAddNama" Display="Dynamic" ErrorMessage="Isi Nama Mahasiswa" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddNama').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddNamaValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddNama').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddAlamat">
                        <label class="col-md-2 control-label text-right">Alamat :</label>
                        <div class="col-md-5">
                            <com:TTextBox ID="txtAddAlamat" CssClass="form-control" />
                            <com:TRequiredFieldValidator ID="FieldAddAlamatValidator" ControlToValidate="txtAddAlamat" Display="Dynamic" ErrorMessage="Isi Alamat Mahasiswa" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddAlamat').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddAlamatValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddAlamat').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddNoTelp">
                        <label class="col-md-2 control-label text-right">No. Telepon :</label>
                        <div class="col-md-2">
                            <com:TTextBox ID="txtAddNoTelp" CssClass="form-control" />                                
                        </div>
                    </div>
                    <div class="form-group" id="divAddKodePT">
                        <label class="col-md-2 control-label text-right">Kode P.T Asal :</label>
                        <div class="col-md-3">
                            <com:TTextBox ID="txtAddKodePtAsal" MaxLength="6" CssClass="form-control" Width="80px" />
                            <com:TRequiredFieldValidator ID="FieldAddKodePTValidator" ControlToValidate="txtAddKodePtAsal" Display="Dynamic" ErrorMessage="Isi Kode P.T Asal" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddKodePT').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddKodePTValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddKodePT').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddNamaPT">
                        <label class="col-md-2 control-label text-right">Nama P.T Asal :</label>
                        <div class="col-md-5">
                            <com:TTextBox ID="txtAddNamaPtAsal" CssClass="form-control" />
                            <com:TRequiredFieldValidator ID="FieldAddNamaPTValidator" ControlToValidate="txtAddNamaPtAsal" Display="Dynamic" ErrorMessage="Isi Nama P.T Asal" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddNamaPT').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddNamaPTValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddNamaPT').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddJenjang">
                        <label class="col-md-2 control-label text-right">Jenjang :</label>
                        <div class="col-md-2">
                            <com:TDropDownList ID="cmbAddJenjang" CssClass="form-control" />
                            <com:TRequiredFieldValidator ID="FieldAddJenjangValidator" InitialValue="none" ControlToValidate="cmbAddJenjang" Display="Dynamic" ErrorMessage="Pilih Jenjang Pendidikan dari P.T Asal" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddJenjang').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddJenjangValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddJenjang').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddKodePS">
                        <label class="col-md-2 control-label text-right">Kode PS Asal :</label>
                        <div class="col-md-3">
                            <com:TTextBox ID="txtAddKodePsAsal" MaxLength="6" CssClass="form-control" Width="80px" />
                            <com:TRequiredFieldValidator ID="FieldAddKodePSValidator" ControlToValidate="txtAddKodePsAsal" Display="Dynamic" ErrorMessage="Isi Kode PS Asal" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddKodePS').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddKodePSValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddKodePS').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>
                    <div class="form-group" id="divAddNamaPS">
                        <label class="col-md-2 control-label text-right">Nama PS Asal :</label>
                        <div class="col-md-5">
                            <com:TTextBox ID="txtAddNamaPsAsal" CssClass="form-control" />
                            <com:TRequiredFieldValidator ID="FieldAddNamaPSValidator" ControlToValidate="txtAddNamaPsAsal" Display="Dynamic" ErrorMessage="Isi Nama PS Asal" ValidationGroup="addKonversi" CssClass="has-error help-block">
                                <prop:ClientSide.OnValidationError>
                                    $('divAddNamaPS').addClassName('has-error');
                                    jQuery('#<%=$this->FieldAddNamaPSValidator->ClientID%>').removeAttr('style');
                                </prop:ClientSide.OnValidationError>
                                <prop:ClientSide.OnValidationSuccess>
                                    $('divAddNamaPS').removeClassName('has-error');
                                </prop:ClientSide.OnValidationSuccess>
                            </com:TRequiredFieldValidator>
                        </div>
                    </div>                                            
                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10">
                            <com:TActiveCustomButton ID="btnSave" ValidationGroup="addKonversi" OnClick="saveData" CssClass="btn btn-info btn-labeled btn-xs">
                                <prop:Text>                                        
                                    <b><i class="icon-floppy-disk "></i></b> Simpan                                        
                                </prop:Text>
                                <prop:ClientSide.OnPreDispatch>         
                                    Pace.stop();
                                    Pace.start();
                                    $('<%=$this->btnSave->ClientId%>').disabled='disabled';         
                                </prop:ClientSide.OnPreDispatch>
                                <prop:ClientSide.OnLoading>
                                    $('<%=$this->btnSave->ClientId%>').disabled='disabled';                     
                                </prop:ClientSide.OnLoading>
                                <prop:ClientSide.OnComplete>                                                                    
                                    $('<%=$this->btnSave->ClientId%>').disabled='';                                                                                                                 
                                </prop:ClientSide.OnComplete>
                            </com:TActiveCustomButton>
                        </div>
                    </div>    
                </div>
            </div>
            <div class="panel-body">
                <div class="alert bg-warning alert-styled-right">
                    <button type="button" class="close"><span>&times;</span><span class="sr-only">Close</span></button>
                    <span class="text-semibold">Warning!</span> Kami tidak menyediakan validasi pada form pengisian nilai konversi, oleh karena itu mohon untuk di isi kolom "Matakuliah Asal", "SKS", dan "Nilai".
                </div>
            </div>
            <div class="table-responsive">                        
                <com:TRepeater ID="RepeaterAddS">	
                    <prop:HeaderTemplate>
                        <table class="table table-striped table-hover">
                            <thead>		
                                <tr class="bg-teal-700">
                                    <th width="20">NO</th>
                                    <th width="50">KODE</th>
                                    <th width="250">NAMA</th>
                                    <th width="30">SKS</th>
                                    <th width="30">SMT</th>
                                    <th width="80">KODE <br />MATKUL. Asal</th>
                                    <th width="250">MATAKULIAH ASAL</th>
                                    <th width="70">SKS</th>
                                    <th width="70">NILAI</th>                                                                        
                                </tr>
                            </thead>                                
                            <tbody>			
                                </prop:HeaderTemplate>
                            <prop:ItemTemplate>
                                <tr>
                                    <td><%# $this->DataItem['no']%></td>
                                    <td><%# $this->Page->Nilai->getKMatkul($this->DataItem['kmatkul'])%></td>
                                    <td><%# $this->DataItem['nmatkul']%></td>
                                    <td><%# $this->DataItem['sks']%></td>
                                    <td><%# $this->DataItem['semester']%></td>
                                    <td>
                                <com:TTextBox ID="txtKMatkulAsal" Text="<%# $this->DataItem['kmatkul_asal']%>" CssClass="form-control" />
                                </td>
                                <td>
                                <com:TTextBox ID="txtMatkulAsal" Text="<%# $this->DataItem['matkul_asal']%>" CssClass="form-control" />
                                </td>
                                <td>
                                <com:TTextBox ID="txtSksAsal" MaxLength="2" Text="<%# $this->DataItem['sks_asal']%>" CssClass="form-control" Attributes.OnKeyUp="formatangka(this)"/>
                                </td>
                                <td>
                                <com:THiddenField ID="hiddenidnilaikonversi" Value="<%# $this->DataItem['idnilai_konversi']%>"  />
                                <com:TDropDownList ID="cmbNilaiAsal" Text="<%# $this->DataItem['n_kual']%>" CssClass="form-control">
                                    <com:TListItem Value="none" Text=" " />
                                    <com:TListItem Value="A" Text="A" />
                                    <com:TListItem Value="B" Text="B" />
                                    <com:TListItem Value="C" Text="C" />
                                    <com:TListItem Value="D" Text="D" />											
                                </com:TDropDownList>
                                </td>                                                                       
                                </tr>
                            </prop:ItemTemplate>
                            <prop:FooterTemplate>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="9">                                            	
                                <com:TActiveCustomButton ID="btnSaveRepeater" CssClass="btn btn-info btn-labeled btn-xs" OnClick="Page.saveData" ValidationGroup="addKonversi">
                                    <prop:Text>                                        
                                        <b><i class="icon-floppy-disk "></i></b> Simpan                                        
                                    </prop:Text>
                                    <prop:ClientSide.OnPreDispatch>                                                                   
                                        Pace.stop();
                                        Pace.start(); 
                                        $('<%=$this->btnSaveRepeater->ClientId%>').disabled='disabled';						
                                    </prop:ClientSide.OnPreDispatch>
                                    <prop:ClientSide.OnLoading>
                                        $('<%=$this->btnSaveRepeater->ClientId%>').disabled='disabled';						
                                    </prop:ClientSide.OnLoading>
                                    <prop:ClientSide.OnComplete>																	                                    						                                                                            
                                        $('<%=$this->btnSaveRepeater->ClientId%>').disabled='';
                                    </prop:ClientSide.OnComplete>
                                </com:TActiveCustomButton>                               
                                </td>
                                </tr>
                                </tfoot>
                        </table>
                        </prop:FooterTemplate>
                        <prop:EmptyTemplate>                                                       
                            <div class="panel-body">
                                <div class="alert alert-info alert-styled-left alert-bordered">
                                    <span class="text-semibold">Info!</span>
                                    Belum ada data yang bisa ditampilkan.
                                </div>                
                            </div>  
                        </prop:EmptyTemplate>
                </com:TRepeater>
            </div>
        </div>  
    </com:TPanel>
</com:TContent>